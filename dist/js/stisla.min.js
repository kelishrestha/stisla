"use strict";!function(l,r){l.fn.fireModal=function(c){c=l.extend({size:"modal-md",center:!1,animation:!0,title:"Modal Title",closeButton:!0,header:!0,bodyClass:"",footerClass:"",body:"",buttons:[],autoFocus:!0,removeOnDismiss:!1,created:function(){},appended:function(){},onFormSubmit:function(){},modal:{}},c);this.each(function(){var t,o="fire-modal-"+ ++r,s="trigger--"+o;l("."+s);l(this).addClass(s);let i=c.body;"object"==typeof i&&(i.length?(i=(t=i).removeAttr("id").clone().removeClass("modal-part"),t.remove()):i='<div class="text-danger">Modal part element not found!</div>');var e,n='   <div class="modal'+(1==c.animation?" fade":"")+'" tabindex="-1" role="dialog" id="'+o+'">       <div class="modal-dialog '+c.size+(c.center?" modal-dialog-centered":"")+'" role="document">         <div class="modal-content">  '+(1==c.header?'         <div class="modal-header">             <h5 class="modal-title">'+c.title+"</h5>  "+(1==c.closeButton?'           <button type="button" class="close" data-dismiss="modal" aria-label="Close">               <span aria-hidden="true">&times;</span>             </button>  ':"")+"         </div>  ":"")+'         <div class="modal-body">           </div>  '+(0<c.buttons.length?'         <div class="modal-footer">           </div>  ':"")+"       </div>       </div>    </div>  ",n=l(n);c.buttons.forEach(function(t){var s="id"in t?t.id:"";e='<button type="'+("submit"in t&&1==t.submit?"submit":"button")+'" class="'+t.class+'" id="'+s+'">'+t.text+"</button>",e=l(e).off("click").on("click",function(){t.handler.call(this,n)}),l(n).find(".modal-footer").append(e)}),l(n).find(".modal-body").append(i),c.bodyClass&&l(n).find(".modal-body").addClass(c.bodyClass),c.footerClass&&l(n).find(".modal-footer").addClass(c.footerClass),c.created.call(this,n,c);let a=l(n).find(".modal-body form"),d=n.find("button[type=submit]");if(l("body").append(n),c.appended.call(this,l("#"+o),a,c),a.length){c.autoFocus&&l(n).on("shown.bs.modal",function(){"boolean"==typeof c.autoFocus?a.find("input:eq(0)").focus():"string"==typeof c.autoFocus&&a.find(c.autoFocus).length&&a.find(c.autoFocus).focus()});let s={startProgress:function(){n.addClass("modal-progress")},stopProgress:function(){n.removeClass("modal-progress")}};a.find("button").length||l(a).append('<button class="d-none" id="'+o+'-submit"></button>'),d.click(function(){a.submit()}),a.submit(function(t){s.startProgress(),c.onFormSubmit.call(this,n,t,s)})}l(document).on("click","."+s,function(){let t=l("#"+o).modal(c.modal);return c.removeOnDismiss&&t.on("hidden.bs.modal",function(){t.remove()}),!1})})},l.destroyModal=function(t){t.modal("hide"),t.on("hidden.bs.modal",function(){})},l.cardProgress=function(t,s){var s=l.extend({dismiss:!1,dismissText:"Cancel",spinner:!0,onDismiss:function(){}},s),o=l(t);return o.addClass("card-progress"),0==s.spinner&&o.addClass("remove-spinner"),1==s.dismiss&&(t='<a class="btn btn-danger card-progress-dismiss">'+s.dismissText+"</a>",t=l(t).off("click").on("click",function(){o.removeClass("card-progress"),o.find(".card-progress-dismiss").remove(),s.onDismiss.call(this,o)}),o.append(t)),{dismiss:function(t){l.cardProgressDismiss(o,t)}}},l.cardProgressDismiss=function(t,s){t=l(t);t.removeClass("card-progress"),t.find(".card-progress-dismiss").remove(),s&&s.call(this,t)},l.chatCtrl=function(t,s){var s=l.extend({position:"chat-right",text:"",time:moment((new Date).toISOString()).format("hh:mm"),picture:"",type:"text",timeout:0,onShow:function(){}},s),o=l(t),t='<div class="chat-item '+s.position+'" style="display:none"><img src="'+s.picture+'"><div class="chat-details"><div class="chat-text">'+s.text+'</div><div class="chat-time">'+s.time+"</div></div></div>",i='<div class="chat-item chat-left chat-typing" style="display:none"><img src="'+s.picture+'"><div class="chat-details"><div class="chat-text"></div></div></div>',e=t,n=("typing"==s.type&&(e=i),0<s.timeout?setTimeout(function(){o.find(".chat-content").append(l(e).fadeIn())},s.timeout):o.find(".chat-content").append(l(e).fadeIn()),0);o.find(".chat-content .chat-item").each(function(){n+=l(this).outerHeight()}),setTimeout(function(){o.find(".chat-content").scrollTop(n,-1)},100),s.onShow.call(this,e)}}(jQuery,0);